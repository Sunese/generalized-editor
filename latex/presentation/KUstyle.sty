\ProvidesPackage{KUstyle}

\RequirePackage[ddmmyyyy]{datetime}
\RequirePackage{fontspec}
\RequirePackage{etoolbox}
\RequirePackage[absolute,overlay]{textpos}
\RequirePackage{hyperref}
\RequirePackage{microtype}

\newcommand*{\toplinje}[1]{\def\@toplinje{#1}}

\renewcommand{\dateseparator}{--}
\setmainfont{Arial}
\definecolor{KUrod}{RGB}{144,26,30}
\setbeamersize{text margin left=0.75cm, text margin right=0.75cm}
\setbeamertemplate{frametitle}{
    \insertframetitle
}
\setbeamertemplate{navigation symbols}{}
\setbeamercolor*{item}{}
\setbeamertemplate{itemize items}[circle]
\addtolength{\headsep}{0.9cm}
\setbeamercolor{rodbox}{fg=white,bg=KUrod}
\setbeamercolor{hvidbox}{fg=black,bg=white}
\setbeamertemplate{footline}{ \vspace{1cm} }

\makeatletter
\define@key{beamerframe}{rod}[true]{
    \setbeamercolor{titlelike}{fg=white}
    \setbeamercolor{normal text}{fg=white}
    \usebeamercolor[fg]{normal text}
    \setbeamercolor{background canvas}{bg=KUrod}
    \setbeamertemplate{headline}{
        \begin{textblock}{10}(0.6,0.3)
            \vspace{-0.1cm}
            \includegraphics[height=9pt]{KU/KU-logo.png}
        \end{textblock}
        \begin{textblock}{10}(1,0.3)
            \fontsize{5}{5}\fontfamily{ptm}\selectfont \textcolor{black}{\textls[200]{UNIVERSITY OF COPENHAGEN}}
        \end{textblock}
        \includegraphics[width=\paperwidth,height=14pt]{KU/hoved.png}
        \ifdefined\@toplinje
            \begin{textblock}{10}(3.6,0.3)
                \begin{flushright}
                    \vspace{-0.33cm}
                    \tiny\textcolor{black}{\@toplinje\ \ \ \ \ }
                \end{flushright}
            \end{textblock}
        \fi
        \begin{textblock}{10}(13.6,0.3)
            \tiny\textcolor{black}{18-06-2024\ \ \ \ \ \insertframenumber/\inserttotalframenumber}
        \end{textblock}
    }

}
\define@key{beamerframe}{hvid}[true]{
    \setbeamercolor{titlelike}{fg=KUrod}
    \setbeamercolor{normal text}{fg=black}
    \usebeamercolor[fg]{normal text}
    \setbeamercolor{background canvas}{bg=white}
    \setbeamertemplate{headline}{
        \begin{textblock}{10}(0.6,0.3)
            \vspace{-0.1cm}
            \includegraphics[height=9pt]{KU/KU-logo.png}
        \end{textblock}
        \begin{textblock}{10}(1,0.3)
            \fontsize{5}{5}\fontfamily{ptm}\selectfont \textcolor{black}{\textls[200]{UNIVERSITY OF COPENHAGEN}}
        \end{textblock}
        \includegraphics[width=\paperwidth,height=14pt]{KU/hoved.png}
        \ifdefined\@toplinje
            \begin{textblock}{10}(3.6,0.3)
                \begin{flushright}
                    \vspace{-0.33cm}
                    \tiny\textcolor{black}{\@toplinje\ \ \ \ \ }
                \end{flushright}
            \end{textblock}
        \fi
        \begin{textblock}{10}(13.6,0.3)
            \tiny\textcolor{black}{18-06-2024\ \ \ \ \ \insertframenumber/\inserttotalframenumber}
        \end{textblock}
    }
}
\define@key{beamerframe}{billede}[true]{
    \setbeamertemplate{headline}{
        \begin{textblock}{10}(0.6,0.3)
            \vspace{-0.1cm}
            \includegraphics[height=9pt]{KU/KU-logo.png}
        \end{textblock}
        \begin{textblock}{10}(1,0.3)
            \fontsize{5}{5}\fontfamily{ptm}\selectfont \textcolor{black}{\textls[200]{UNIVERSITY OF COPENHAGEN}}
        \end{textblock}
        \ifdefined\@toplinje
            \begin{textblock}{10}(3.6,0.3)
                \begin{flushright}
                    \vspace{-0.33cm}
                    \tiny\textcolor{black}{\@toplinje\ \ \ \ \ }
                \end{flushright}
            \end{textblock}
        \fi
        \includegraphics[width=\paperwidth,height=14pt]{KU/hoved.png}
        \begin{textblock}{10}(13.6,0.3)
            \tiny\textcolor{black}{\today\ \ \ \ \ \insertframenumber}
        \end{textblock}
    }
}
\makeatother